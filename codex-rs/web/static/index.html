<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Codex Web</title>
    <link rel="stylesheet" href="/assets/index.css" />
  </head>
  <body>
    <header class="app-header" role="banner">
      <div class="brand">
        <a class="home" href="/" aria-label="Codex Home">
          <span class="logo">▮</span>
          <span class="name">Codex</span>
        </a>
      </div>
      <nav class="nav" aria-label="Primary"></nav>
      <div class="status" aria-live="polite">
        <span id="auth-pill" class="pill pill-muted" title="Authentication status">Auth: —</span>
        <span id="sandbox-pill" class="pill pill-muted" title="Sandbox mode">Sandbox: —</span>
        <span id="approval-pill" class="pill pill-muted" title="Approval policy">Approval: —</span>
      </div>
      <div class="actions">
        <button id="theme" class="btn ghost" aria-label="Toggle theme">Theme</button>
        <button id="palette" class="btn ghost" aria-label="Command palette (Ctrl/Cmd+K)">⌘K</button>
      </div>
    </header>
    <main class="container" role="main">
      <section class="grid">
        <div class="col primary">
          <div class="card" aria-labelledby="create-title">
            <h3 id="create-title">Create Session</h3>
            <div class="field-row">
              <div class="field">
                <label for="cwd">Workspace Path (server)</label>
                <input id="cwd" type="text" placeholder="e.g., /path/to/workspace on the server" autocomplete="off" list="cwd-list" />
                <datalist id="cwd-list"></datalist>
              </div>
              <div class="field">
                <label for="model">Model</label>
                <select id="model">
                  <option value="gpt-5">gpt-5</option>
                  <option value="o3">o3</option>
                  <option value="gpt-4o">gpt-4o</option>
                  <option value="custom">Custom…</option>
                </select>
                <input id="model-custom" type="text" placeholder="custom model slug" autocomplete="off" style="display:none;margin-top:6px" />
              </div>
            </div>
            <div class="field-row">
              <div class="field">
                <label for="approval">Approval</label>
                <select id="approval">
                  <option>on-request</option>
                  <option>on-failure</option>
                  <option>untrusted</option>
                  <option>never</option>
                </select>
              </div>
              <div class="field">
                <label for="sandbox">Sandbox</label>
                <select id="sandbox">
                  <option>workspace-write</option>
                  <option>read-only</option>
                  <option>danger-full-access</option>
                </select>
              </div>
            </div>
            <div class="presets" aria-label="Presets">
              <button class="chip" data-preset="default">Default</button>
              <button class="chip" data-preset="safe">Safe</button>
              <button class="chip" data-preset="untrusted">Untrusted</button>
              <button class="chip" data-preset="auto">Fully Auto</button>
            </div>
            <div class="right">
              <button id="create" class="btn primary">Create</button>
            </div>
            <div id="create-error" class="muted" role="status" aria-live="polite"></div>
          </div>

          <div class="card" aria-labelledby="recent-title">
            <div class="card-head">
              <h3 id="recent-title">Recent Sessions</h3>
              <div class="filters">
                <input id="filter" class="filter" placeholder="Filter…" aria-label="Filter sessions" />
                <button id="refresh" class="btn ghost" aria-label="Refresh sessions">Refresh</button>
              </div>
            </div>
            <div id="rollouts" class="list" role="list"><div class="muted">Loading…</div></div>
          </div>
        </div>
        <aside class="col secondary">
          <div class="card" aria-labelledby="qa-title">
            <h3 id="qa-title">Quick Actions</h3>
            <div class="btn-row">
              <button id="login-start" class="btn">Start Login</button>
              <button id="login-cancel" class="btn ghost">Cancel Login</button>
            </div>
            <div id="login-status" class="muted" style="margin-top:8px">Checking…</div>
          </div>
          <div class="card" aria-labelledby="env-title">
            <h3 id="env-title">Environment</h3>
            <div id="env" class="muted">Model defaults and settings.</div>
          </div>
        </aside>
      </section>
    </main>

    <footer class="app-footer" role="contentinfo">
      <div class="hint">Press Ctrl/Cmd+K for commands • Last sync <span id="last-sync">—</span></div>
    </footer>

    <div id="palette-modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Command palette">
      <div class="modal-card">
        <input id="palette-input" class="palette-input" placeholder="Type a command or search sessions…" aria-label="Command input" />
        <div id="palette-list" class="palette-list" role="listbox" aria-label="Commands"></div>
      </div>
    </div>

    <script type="module" src="/assets/index.js"></script>
  </body>
 </html>
